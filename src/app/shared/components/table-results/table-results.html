@if (results.length) {
  <table class="table">
    <thead class="head">
      <tr class="head-title">
        <th>Pos.</th>
        <th>Pilote</th>
        <th>Écurie</th>

        @if (isQualifying()) {
          <th>Q1</th>
          <th>Q2</th>
          <th>Q3</th>
        }

        @if (isPractice()) {
          <th>Temps</th>
          <th>Tours</th>
        }

        @if (isRaceOrSprint()) {
          <th>Tours</th>
          <th>Temps / Écart</th>
          <th>Points</th>
        }
      </tr>
    </thead>

    <tbody>
      @for (r of results; track r.DriverNumber ?? r.position) {
        <tr>
          <td>
            <span class="position-wrapper">
              <span class="position-number">{{ r.position }}</span>

              @if (isRaceOrSprint() && r.evolution > 0){
                <span class="evo-positive">
                  ▲ {{ r.evolution }}
                </span>
              } @else if (isRaceOrSprint() && r.evolution < 0){
                <span class="evo-negative">
                  ▼ {{ Math.abs(r.evolution) }}
                </span>
              }
            </span>
          </td>

          <td>{{ r.driver }}</td>
          <td>
            <div class="team-wrapper">
              <img src="{{ TEAMS_INFO[r.team].logo }}" alt="{{ TEAMS_INFO[r.team].logo }}" class="team-logo">
              <span class="team-name">{{ r.team }}</span>
            </div>
          </td>

          @if (isQualifying()) {
            <td class="txt-center">{{ r.q1 }}</td>
            <td class="txt-center">{{ r.q2 }}</td>
            <td class="txt-center">{{ r.q3 }}</td>
          }

          @if (isPractice()) {
            <td class="txt-center">{{ r.time }}</td>
            <td class="txt-center">{{ r.laps }}</td>
          }

          @if (isRaceOrSprint()) {
            <td class="txt-center">{{ r.laps }}</td>
            <td class="txt-center">

              @if (r.status === 'Disqualified') {
                <span class="tag-disqualified">DISQUALIFIÉ</span>

              } @else if (r.status === 'Finished' || r.status === 'Lapped' || r.status.includes('+')) {

                <span>{{ r.time }}</span>

              } @else {
                <span class="tag-abandon">ABANDON</span>
              }

            </td>
            <td class="txt-center">{{ r.points }}</td>
          }
        </tr>
      }
    </tbody>
  </table>
} @else {
  <p>Aucun résultat disponible.</p>
}
