@if (results.length) {
  <table class="table">
    <thead class="head">
      <tr class="head-title">
        <th>Pos</th>
        <th>Pilote</th>
        <th>Équipe</th>

        @if (isQualifying()) {
          <th>Q1</th>
          <th>Q2</th>
          <th>Q3</th>
        }

        @if (isPractice()) {
          <th>Temps</th>
          <th>Tours</th>
        }

        @if (isRaceOrSprint()) {
          <th>Tours</th>
          <th>Temps / Écart</th>
          <th>Points</th>
        }
      </tr>
    </thead>

    <tbody>
      @for (r of results; track r) {
        <tr>
          <td>
            <span class="position-wrapper">
              <span class="team-badge" [style.background-color]="'#' + r.teamColor"></span>
              <span class="position-number">{{ r?.position }}</span>
            </span>
          </td>
          <td>{{ r?.driver }}</td>
          <td>
            <img src="{{ TEAMS_INFO[r.team].logo }}" alt="{{ TEAMS_INFO[r.team].logo }}" class="team-logo">
            <span>{{ r.team }}</span>
          </td>

          @if (isQualifying()) {
            <td>{{ r.q1 }}</td>
            <td>{{ r.q2 }}</td>
            <td>{{ r.q3 }}</td>
          }

          @if (isPractice()) {
            <td>{{ r.best_lap }}</td>
            <td>{{ r.laps }}</td>
          }

          @if (isRaceOrSprint()) {
            <td>{{ r.laps }}</td>
            <td>
              @if (r.time && r.time !== 'NaT') {
                <span>{{ r.position > 1 ? "+ " + r.time: r.time }}</span>
              } @else {
                <span>{{ r.status }}</span>
              }
            </td>
            <td>{{ r.points }}</td>
          }
        </tr>
      }
    </tbody>
  </table>
} @else {
  <p>Aucun résultat disponible.</p>
}
