<div class="table-container" appDragScroll>
  <table>
    <thead>
    <tr>
      <th class="sticky-col header-col"></th>
      @if (seasonResult) {
        @for (gp of seasonResult.gps; track gp) {
          <th class="gp-header">
            <div class="gp-info">
              <span class="fi fi-{{ getFlag(gp) }} flag-icon" ></span>
              <span class="gp-name">{{ gp.slice(0,3).toUpperCase() }}</span>
            </div>
          </th>
        }
      }
    </tr>
    </thead>

    <tbody>
      @if (seasonResult) {
        @for (driver of seasonResult.driver; track driver) {
          <tr>
            <td class="sticky-col driver-name">
              {{ driver }} </td>

            @for (gp of seasonResult.gps; track gp) {
              <td class="result-cell">
                <div class="pos-badge"
                     [attr.data-pos]="seasonResult.results[driver][gp]"
                     [class.dnf]="seasonResult.results[driver][gp] === null">
                  {{ seasonResult.results[driver][gp] }}
                </div>
              </td>
            }
          </tr>
        }
      }
    </tbody>
  </table>
</div>
